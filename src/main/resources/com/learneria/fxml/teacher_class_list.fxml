<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.learneria.controller.TeacherClassListController"
            prefWidth="1000" prefHeight="700"
            style="-fx-background-color: white;">

    <!--  Background -->
    <center>
        <StackPane>
            <ImageView fitWidth="1000" fitHeight="700" opacity="0.15" preserveRatio="false">
                <image>
                    <Image url="@../assets/backgrounds/Background.jpg" />
                </image>
            </ImageView>
        </StackPane>
    </center>

    <!--  Top Bar -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT" BorderPane.alignment="CENTER"
              style="-fx-padding: 20;">
            <!-- Back button -->
            <Button onAction="#handleBack" style="-fx-background-color: transparent; -fx-cursor: hand;">
                <graphic>
                    <ImageView fitWidth="40" fitHeight="40">
                        <image>
                            <Image url="@../assets/icons/BackArrow.png" />
                        </image>
                    </ImageView>
                </graphic>
            </Button>

            <Label text="Manage Classes"
                   style="-fx-font-family: 'Josefin Sans';
                          -fx-font-size: 28;
                          -fx-font-weight: bold;
                          -fx-text-fill: #0047AB;"/>

            <Pane HBox.hgrow="ALWAYS"/>

            <!-- Profile Card -->
            <VBox alignment="CENTER" spacing="2"
                  style="-fx-background-color: white; -fx-border-color: black;
                         -fx-border-radius: 20; -fx-background-radius: 20;
                         -fx-padding: 8 16;">
                <Label fx:id="teacherNameLabel"
                       text="Teacher"
                       style="-fx-font-family: 'Jost'; -fx-font-weight: bold; -fx-font-size: 16;"/>
                <Label text=" Educator" style="-fx-font-family: 'Jost'; -fx-font-size: 13;"/>
                <Button text="Sign Out" onAction="#handleLogout"
                        prefWidth="100" prefHeight="28"
                        style="-fx-font-family: 'Jost'; -fx-font-weight: bold;
                               -fx-background-color: #A6E4FF;
                               -fx-border-color: black;
                               -fx-background-radius: 20; -fx-border-radius: 20;"/>
            </VBox>
        </HBox>
    </top>

    <!--  Content -->
    <center>
        <HBox alignment="CENTER" spacing="40">
            <!-- Left: Class List -->
            <VBox spacing="12" prefWidth="330"
                  style="-fx-padding: 10; -fx-background-color: white;
                         -fx-border-color: black; -fx-border-radius: 20;
                         -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, #00000033, 8, 0, 0, 4);">
                <Label text="Your Classes"
                       style="-fx-font-family: 'Jost'; -fx-font-weight: bold;
                              -fx-font-size: 18;"/>
                <ListView fx:id="classListView" prefWidth="300" prefHeight="480"
                          style="-fx-font-family: 'Jost'; -fx-font-size: 15;
                                 -fx-background-radius: 15; -fx-border-radius: 15;"/>
            </VBox>

            <!-- Right: Class Details -->
            <VBox spacing="12" prefWidth="540"
                  style="-fx-padding: 18; -fx-background-color: #FFF9C4;
                         -fx-border-color: black; -fx-border-radius: 20;
                         -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, #00000033, 8, 0, 0, 4);">

                <Label text="Class Details"
                       style="-fx-font-family: 'Josefin Sans'; -fx-font-weight: bold;
                              -fx-font-size: 20; -fx-background-color: #FFEC70;
                              -fx-padding: 6 12; -fx-background-radius: 12;
                              -fx-border-color: black; -fx-border-width: 0 0 1 0;"/>

                <GridPane hgap="24" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints prefWidth="140"/>
                        <ColumnConstraints prefWidth="320"/>
                    </columnConstraints>

                    <Label text="Class Name:" GridPane.rowIndex="0" GridPane.columnIndex="0"
                           style="-fx-font-family: 'Jost'; -fx-font-weight: bold;"/>
                    <Label fx:id="classNameLabel" text="-" GridPane.rowIndex="0" GridPane.columnIndex="1"
                           style="-fx-font-family: 'Jost';"/>

                    <Label text="Class Code:" GridPane.rowIndex="1" GridPane.columnIndex="0"
                           style="-fx-font-family: 'Jost'; -fx-font-weight: bold;"/>
                    <Label fx:id="classCodeLabel" text="-" GridPane.rowIndex="1" GridPane.columnIndex="1"
                           style="-fx-font-family: 'Jost';"/>

                    <Label text="Students:" GridPane.rowIndex="2" GridPane.columnIndex="0"
                           style="-fx-font-family: 'Jost'; -fx-font-weight: bold;"/>
                    <Label fx:id="studentCountLabel" text="-" GridPane.rowIndex="2" GridPane.columnIndex="1"
                           style="-fx-font-family: 'Jost';"/>

                    <Label text="Average Score:" GridPane.rowIndex="3" GridPane.columnIndex="0"
                           style="-fx-font-family: 'Jost'; -fx-font-weight: bold;"/>
                    <Label fx:id="avgScoreLabel" text="-" GridPane.rowIndex="3" GridPane.columnIndex="1"
                           style="-fx-font-family: 'Jost';"/>
                </GridPane>

                <Label text="Students" style="-fx-font-family: 'Jost'; -fx-font-weight: bold;"/>
                <ListView fx:id="studentListView" prefHeight="200"
                          style="-fx-font-family: 'Jost'; -fx-font-size: 15;
                                 -fx-background-radius: 15; -fx-border-radius: 15;"/>

                <HBox alignment="CENTER_RIGHT">
                    <Button fx:id="viewStudentButton" text="View Student â–º"
                            style="-fx-font-family: 'Jost'; -fx-font-weight: bold;
                                   -fx-background-color: #A6E4FF;
                                   -fx-background-radius: 20; -fx-border-radius: 20;
                                   -fx-border-color: black;"/>
                </HBox>
            </VBox>
        </HBox>
    </center>

    <!--  Settings Gear -->
    <bottom>
        <HBox alignment="BOTTOM_RIGHT" style="-fx-padding: 0 40 20 0;">
            <Button onAction="#openSettings" style="-fx-background-color: transparent; -fx-cursor: hand;">
                <graphic>
                    <ImageView fitWidth="80" fitHeight="80">
                        <image>
                            <Image url="@../assets/icons/SettingButton.png"/>
                        </image>
                    </ImageView>
                </graphic>
            </Button>
        </HBox>
    </bottom>

</BorderPane>
